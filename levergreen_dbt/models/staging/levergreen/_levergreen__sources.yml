version: 2

sources:
  - name: levergreen
    description: Internal data already existing in Postgres
    schema: public
    loader: manually_added

    tables:
      - name: job_board_urls
        description: List of all the careers page URLs to scrape.
        tests:
          - dbt_expectations.expect_table_columns_to_match_set:
              column_list: ["id", "company_url", "is_enabled", "is_prospect", "is_web_scraped",
              "job_board_provider", "board_token"]
        columns:
        - name: id
          description: Serial ID created by Postgres upon insertion.
          tests:
            - unique
            - not_null
        - name: company_url
          description: Careers page to be scraped.
          tests:
            - unique
            - not_null
        - name: is_enabled
          description: Boolean flag determining whether we are scraping this URL in daily runs.
        - name: is_prospect
          description: Boolean flag determining whether the company is a Prospect company.
        - name: is_web_scraped
          description: True if using the Scrapy script; otherwise, false.
        - name: job_board_provider
          description: Company providing the job board.
        - name: board_token
          description: Company of the jobs listed.